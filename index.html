<!DOCTYPE html>
<html>
	<head>
		<title>collective.js</title>
		<link rel="stylesheet" type="text/css" href="collective.css">
	</head>
	<body>
		<div class="collective-shop"></div>
	</body>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
	<script type="text/javascript" src="collective.js"></script>
	<script>
		let collective, obj, data;

		// include collective library
		collective = new Collective();

		// JSON data
		data = [{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"applaws","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"84.81"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"applaws","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"85.91"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"applaws","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"84.80"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"ark naturals","pet":["dog"],"type":"treats"},"collection":["food"],"content":"","price":"19.58"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"ark naturals","pet":["dog","cat"],"type":"dry food"},"collection":["food"],"content":"","price":"36.06"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"arrowhead mills","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"22.08"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"authority","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"52.12"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"40.95"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"50.13"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"42.82"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"42.82"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"53.19"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"40.95"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"44.04"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"51.23"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"73.69"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"43.36"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"40.95"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"73.69"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"45.53"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"29.07"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"40.95"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"22.10"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"22.10"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"22.10"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"22.10"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"47.89"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"47.89"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"47.89"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"22.42"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"22.42"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"22.42"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"avoderm","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"50.13"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"barkworthies","pet":["dog"],"type":"bone"},"collection":["food"],"content":"","price":"6.51"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"bixbi","pet":["dog"],"type":""},"collection":["food"],"content":"","price":"18.84"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"bixbi","pet":["dog"],"type":"treats"},"collection":["treats"],"content":"","price":"29.99"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"bixbi","pet":["dog"],"type":"treats","test":"test"},"collection":["treats"],"content":"","price":"18.84"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"30.98"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"37.69"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"39.14"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"60.89"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"treats"},"collection":["food"],"content":"","price":"27.54"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"89.98"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"dry food"},"collection":["food"],"content":"","price":"36.24"}},{"image":"https://via.placeholder.com/1920x1080","title":"test title","data":{"filter":{"brand":"blue buffalo","pet":["dog"],"type":"canned food"},"collection":["food"],"content":"","price":"46.31"}}];

		// collective object template
		obj = {
			"id":"collective-shop",
			"rendered":"",
			"layout":{
				"filter":{
					"has":true,
					"dynamic":{
						"id":"filter",
						"exclude":[]
					},
					"static":[],
					"params":{
						"class":""
					}
				},
				"bar":{
					"has":true,
					"options":["date","name","price"],
					"collections":{
						"has":true,
						"dynamic":{
							"id":"collection",
							"set":"food",
							"exclude":[]
						},
						"static":[],
						"params":{
							"class":""
						}
					}
				},
				"content":{
					"has":true,
					"type":["grid"],
					"markup":`${data.map((item,index) => `<div class="collective-item collective-item-${index} collective-xs-100 collective-sm-50 collective-md-33">
							<div class="collective-item-container">
								<img src="${item.image}" width="100%">
								<div class="collective-item-info">
									<div>${item.title}</div>
									<div>$${item.data.price}</div>
									<div class="collective-wrapper">
										${item.data.filter.pet.map(pet => `<div onclick='collective.modal(${JSON.stringify(item)})'>${pet}</div>` ).join('') }
									</div>
								</div>
							</div>
						</div>`).join('@@')}`
				},
				"pagination":{
					"has":true,
					"perPage":12
				}
			},
			"data":data
		};

		// collective init
		collective.init(obj);
	</script>
</html>